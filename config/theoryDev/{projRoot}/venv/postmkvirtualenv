#!/bin/bash
# This hook is run after a new virtualenv is activated.

LIBS=( PIL pygtk.pth pygtk.py cairo glib gobject gi elementary ecore evas edje ethumb e_dbus.la e_dbus.so efl)

#PYTHON_VERSION=`python -c "import sys; print sys.version[:3]"`
PYTHON_VERSION=`python -c "import sys; print (str(sys.version_info[0])+'.'+str(sys.version_info[1]))"`
PYTHON_BIN_LST=( $(which -a python$PYTHON_VERSION) )

GET_PYTHON_LIB_CMD="from distutils.sysconfig import get_python_lib; print (get_python_lib())"
LIB_VIRTUALENV_PATH=$(python -c "$GET_PYTHON_LIB_CMD")
LIB_SYSTEM_PATH=$(${PYTHON_BIN_LST[-1]} -c "$GET_PYTHON_LIB_CMD")

for LIB in ${LIBS[@]}
do
    ln -s $LIB_SYSTEM_PATH/$LIB $LIB_VIRTUALENV_PATH/$LIB
done
ln -s /usr/share/pyload/module $LIB_VIRTUALENV_PATH/pyload
